<section id="hdls-membership-container">
    <div class="search-section">
    <div class="add-product">
     
    </div>
 
    <div class="download-section">
        
        <div class="download-button">
          <button mat-raised-button
            ><img src="../../../assets/images/download.png" alt="download"
          /> View / Download</button>
        </div>
      </div>
  </div>
    <div id="hdls-membership-list">
    <div class="hdls-product-list-section hdls-user-container">
      <!-- <app-search-field></app-search-field> -->
      <table
        mat-table
        class="hdls-product-table"
        [dataSource]="dataSource"
        matTableExporter
      >
        <ng-container matColumnDef="sno">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>Membership number</th>
          <td mat-cell *matCellDef="let element; let i = index">
            <p *ngIf="!element.isLoading" class="hdls-sno">
              <!-- {{ (paginator.pageIndex * paginator.pageSize)+(i+1)}} -->
              {{ element.customerid }}
            </p>
            <div *ngIf="element.isLoading" class="loading-data"></div>
          </td>
        </ng-container>

        <ng-container matColumnDef="name">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>Member Name</th>
          <td mat-cell *matCellDef="let element; let i = index">
            <p *ngIf="!element.isLoading" class="hdls-name">
              {{
                element.firstname
                  ? element.firstname + "," + element.lastname
                  : "--"
              }}
            </p>
            <div *ngIf="element.isLoading" class="loading-data"></div>
          </td>
        </ng-container>

        <ng-container matColumnDef="mobile">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>Mobile number</th>
          <td mat-cell *matCellDef="let element; let i = index">
            <p *ngIf="!element.isLoading" class="hdls-mobile">
              {{ element.mobile || "--" }}
            </p>
            <div *ngIf="element.isLoading" class="loading-data"></div>
          </td>
        </ng-container>
        <ng-container matColumnDef="email">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>Email</th>
          <td mat-cell *matCellDef="let element; let i = index">
            <p *ngIf="!element.isLoading" class="hdls-email">
              {{ element.email || "--" }}
            </p>
            <div *ngIf="element.isLoading" class="loading-data"></div>
          </td>
        </ng-container>
        <ng-container matColumnDef="address">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>Address</th>
          <td mat-cell *matCellDef="let element; let i = index">
            <p *ngIf="!element.isLoading" class="hdls-address">
              {{ (element.address | uppercase) || "--" }}
            </p>
            <div *ngIf="element.isLoading" class="loading-data"></div>
          </td>
        </ng-container>
        <ng-container matColumnDef="city">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>City</th>
          <td mat-cell *matCellDef="let element; let i = index">
            <p *ngIf="!element.isLoading" class="hdls-city">
              {{ (element.city | uppercase) || "--" }}
            </p>
            <div *ngIf="element.isLoading" class="loading-data"></div>
          </td>
        </ng-container>
        <ng-container matColumnDef="state">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>State</th>
          <td mat-cell *matCellDef="let element; let i = index">
            <p *ngIf="!element.isLoading" class="hdls-state">
              {{ (element.state | uppercase) || "--" }}
            </p>
            <div *ngIf="element.isLoading" class="loading-data"></div>
          </td>
        </ng-container>
        <ng-container matColumnDef="dob">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>
            Date of birth
          </th>
          <td mat-cell *matCellDef="let element; let i = index">
            <p *ngIf="!element.isLoading" class="hdls-dob">
              {{ (element.birthday | date : "dd-MMM-yyyy") || "--" }}
            </p>
            <div *ngIf="element.isLoading" class="loading-data"></div>
          </td>
        </ng-container>
        <ng-container matColumnDef="status">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>
            Status
          </th>
          <td mat-cell *matCellDef="let element; let i = index">
            <p *ngIf="!element.isLoading" class="hdls-status">
              {{ (element.inactive ? 'Inactive' : 'Active') || "--" }}
            </p>
            <div *ngIf="element.isLoading" class="loading-data"></div>
          </td>
        </ng-container>
        <ng-container matColumnDef="created_at">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>Signed-up date</th>
          <td mat-cell *matCellDef="let element; let i = index">
            <p *ngIf="!element.isLoading" class="hdls-created-at">
              {{ (element.created_at | date : "dd-MMM-yyyy") || "--" }}
            </p>
            <div *ngIf="element.isLoading" class="loading-data"></div>
          </td>
        </ng-container>
         <ng-container matColumnDef="tier">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>
            Tier Points
          </th>
          <td mat-cell *matCellDef="let element; let i = index">
            <p *ngIf="!element.isLoading" class="hdls-tier">
              {{ element.pointsTier | titlecase }}
            </p>
            <div *ngIf="element.isLoading" class="loading-data"></div>
          </td>
        </ng-container>
         <ng-container matColumnDef="points">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>
            Points accumulated
          </th>
          <td mat-cell *matCellDef="let element; let i = index">
            <p *ngIf="!element.isLoading" class="hdls-points-accumulated">
              {{ element.pointsAccumulated }}
            </p>
            <div *ngIf="element.isLoading" class="loading-data"></div>
          </td>
        </ng-container>
        <ng-container matColumnDef="booking_history">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>
            Booking History
          </th>
          <td mat-cell *matCellDef="let element; let i = index">
            <p *ngIf="!element.isLoading" class="hdls-booking-history">
              <button (click)="openBookingDetails()" mat-raised-button color="primary">View Bookings</button>
            </p>
            <div *ngIf="element.isLoading" class="loading-data"></div>
          </td>
        </ng-container>
        <ng-container matColumnDef="current_membership">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>
            Current Membership
          </th>
          <td mat-cell *matCellDef="let element; let i = index">
            <p *ngIf="!element.isLoading" class="hdls-current-membership">
              {{ element.pointsTier | titlecase }}
            </p>
            <div *ngIf="element.isLoading" class="loading-data"></div>
          </td>
        </ng-container>
        <ng-container matColumnDef="birthday">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>
            Date of Birth
          </th>
          <td mat-cell *matCellDef="let element; let i = index">
            <p *ngIf="!element.isLoading" class="hdls-birthday">
              {{ (element.birthday | date : "dd-MMM-yyyy") || "--" }}
            </p>
            <div *ngIf="element.isLoading" class="loading-data"></div>
          </td>
        </ng-container>
        
        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr
          mat-row
          *matRowDef="let row; columns: displayedColumns"
          class="hdls-table-row"
        ></tr>
      </table>
      <table>
        <tr *ngIf="!dataSource?.data">
          <td class="hdls-no-records-detail">No Records Found!</td>
        </tr>
      </table>
      <mat-paginator
        [pageSizeOptions]="[5, 10, 20]"
        showFirstLastButtons
        aria-label="Select page of periodic elements"
        (page)="pageChanged($event)"
      >
      </mat-paginator>
    </div>
  </div>
  </section>
  