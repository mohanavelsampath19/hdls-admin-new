<section id="hdls-membership-container">
  <div class="search-section">
    <div class="add-product">
      <form (submit)="setSearchValue($event)" class="hdls-search-field">
        <input
          type="text"
          matInput
          placeholder="Search"
          (keyup)="applyFilter($event)"
        />
        <span>
          <a href="#" (click)="setSearchValue($event)">
            <img src="../../../assets/images/search.png" alt="search" />
          </a>
        </span>
      </form>
    </div>
    <mat-button-toggle-group name="fontStyle" aria-label="Font Style">
  <mat-button-toggle value="bold" mat-raised-button (click)="filterStatus('active')">Active</mat-button-toggle>
  <mat-button-toggle value="italic" mat-raised-button (click)="filterStatus('Inactive')">Inactive</mat-button-toggle>
  <mat-button-toggle value="underline" mat-raised-button>
    <button mat-button [matMenuTriggerFor]="menu">
      Tier points
    </button>
    <mat-menu #menu="matMenu">
            <button mat-menu-item (click)="changeTier('all')">All</button>
      <button mat-menu-item (click)="changeTier('silver')">Silver</button>
      <button mat-menu-item (click)="changeTier('gold')">Gold</button>
      <button mat-menu-item (click)="changeTier('diamond')">Diamond</button>
      <button mat-menu-item (click)="changeTier('platinum')">Platinum</button>
    </mat-menu>
  </mat-button-toggle>
</mat-button-toggle-group>
 
    <div class="download-section">
        
        <div class="download-button">
          <button mat-raised-button (click)="exportAsExcel()"
          ><img src="../../../assets/images/download.png" alt="download"
        /> View / Download</button>
        </div>
      </div>
  </div>
  <div id="hdls-membership-list">
    <div class="hdls-product-list-section hdls-user-container">
      <!-- <app-search-field></app-search-field> -->
      <table
        mat-table
        class="hdls-product-table"
        [dataSource]="dataSource"
        matTableExporter
      >
        <ng-container matColumnDef="sno">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>Membership number</th>
          <td mat-cell *matCellDef="let element; let i = index">
            <p *ngIf="!element.isLoading" class="hdls-sno">
              <!-- {{ (paginator.pageIndex * paginator.pageSize)+(i+1)}} -->
              <a
                [routerLink]="['/report/member-details', element.customerid]"
                title="customer details"
                >{{ element.customerid }}</a
              >
            </p>
            <div *ngIf="element.isLoading" class="loading-data"></div>
          </td>
        </ng-container>

        <ng-container matColumnDef="name">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>Member Name</th>
          <td mat-cell *matCellDef="let element; let i = index">
            <p *ngIf="!element.isLoading" class="hdls-name">
              {{
                element.name
                  ? element.name
                  : "--"
              }}
            </p>
            <div *ngIf="element.isLoading" class="loading-data"></div>
          </td>
        </ng-container>

        <ng-container matColumnDef="mobile">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>Mobile number</th>
          <td mat-cell *matCellDef="let element; let i = index">
            <p *ngIf="!element.isLoading" class="hdls-mobile">
              {{ element.mobile || "--" }}
            </p>
            <div *ngIf="element.isLoading" class="loading-data"></div>
          </td>
        </ng-container>
        <ng-container matColumnDef="email">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>Email</th>
          <td mat-cell *matCellDef="let element; let i = index">
            <p *ngIf="!element.isLoading" class="hdls-email">
              {{ element.email || "--" }}
            </p>
            <div *ngIf="element.isLoading" class="loading-data"></div>
          </td>
        </ng-container>
        <ng-container matColumnDef="address">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>Address</th>
          <td mat-cell *matCellDef="let element; let i = index">
            <p *ngIf="!element.isLoading" class="hdls-address">
              {{ (element.address | uppercase) || "--" }}
            </p>
            <div *ngIf="element.isLoading" class="loading-data"></div>
          </td>
        </ng-container>
        <ng-container matColumnDef="city">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>City</th>
          <td mat-cell *matCellDef="let element; let i = index">
            <p *ngIf="!element.isLoading" class="hdls-city">
              {{ (element.city | uppercase) || "--" }}
            </p>
            <div *ngIf="element.isLoading" class="loading-data"></div>
          </td>
        </ng-container>
        <ng-container matColumnDef="state">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>State</th>
          <td mat-cell *matCellDef="let element; let i = index">
            <p *ngIf="!element.isLoading" class="hdls-state">
              {{ (element.state | uppercase) || "--" }}
            </p>
            <div *ngIf="element.isLoading" class="loading-data"></div>
          </td>
        </ng-container>
        <ng-container matColumnDef="dob">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>
            Date of birth
          </th>
          <td mat-cell *matCellDef="let element; let i = index">
            <p *ngIf="!element.isLoading" class="hdls-dob">
              {{ (element.dob | date : "dd-MMM-yyyy") || "--" }}
            </p>
            <div *ngIf="element.isLoading" class="loading-data"></div>
          </td>
        </ng-container>
        <ng-container matColumnDef="status">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>
            Status
          </th>
          <td mat-cell *matCellDef="let element; let i = index">
            <p *ngIf="!element.isLoading" class="hdls-status">
              {{ (element.status ? 'Inactive' : 'Active') || "--" }}
            </p>
            <div *ngIf="element.isLoading" class="loading-data"></div>
          </td>
        </ng-container>
        <ng-container matColumnDef="created_at">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>Signed-up date</th>
          <td mat-cell *matCellDef="let element; let i = index">
            <p *ngIf="!element.isLoading" class="hdls-created-at">
              {{ (element.created_at | date : "dd-MMM-yyyy") || "--" }}
            </p>
            <div *ngIf="element.isLoading" class="loading-data"></div>
          </td>
        </ng-container>
         <ng-container matColumnDef="tier">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>
            Tier Points
          </th>
          <td mat-cell *matCellDef="let element; let i = index">
            <p *ngIf="!element.isLoading" class="hdls-tier">
              {{ element.pointsTier | titlecase }}
            </p>
            <div *ngIf="element.isLoading" class="loading-data"></div>
          </td>
        </ng-container>
        <ng-container matColumnDef="birthday">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>
            Date of Birth
          </th>
          <td mat-cell *matCellDef="let element; let i = index">
            <p *ngIf="!element.isLoading" class="hdls-birthday">
              {{ (element.birthday | date : "dd-MMM-yyyy") || "--" }}
            </p>
            <div *ngIf="element.isLoading" class="loading-data"></div>
          </td>
        </ng-container>
        <ng-container matColumnDef="view_expenses">
          <th mat-header-cell *matHeaderCellDef mat-sort-header></th>
          <td mat-cell *matCellDef="let element; let i = index">
            <p *ngIf="!element.isLoading">
              <button
                mat-raised-button
                color="primary"
                (click)="openExpenseDialog(element.customerid)"
              >
                View expenses
              </button>
            </p>
            <div *ngIf="element.isLoading" class="loading-data"></div>
          </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr
          mat-row
          *matRowDef="let row; columns: displayedColumns"
          class="hdls-table-row"
        ></tr>
      </table>
      <table>
        <tr *ngIf="!dataSource?.data">
          <td class="hdls-no-records-detail">No Records Found!</td>
        </tr>
      </table>
      <mat-paginator
        [pageSizeOptions]="[5, 10, 20]"
        showFirstLastButtons
        aria-label="Select page of periodic elements"
        (page)="pageChanged($event)"
      >
      </mat-paginator>
    </div>
  </div>
</section>
