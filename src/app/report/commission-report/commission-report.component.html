<section id="hdls-membership-container">
    <div class="search-section">
      <div class="add-product">
        <form (submit)="setSearchValue($event)" class="hdls-search-field">
          <input
            type="text"
            (change)="getSearchDetails($event)"
            matInput
            placeholder="Search"
          />
          <span>
            <a href="#" (click)="setSearchValue($event)">
              <img src="../../../assets/images/search.png" alt="Search" />
            </a>
          </span>
        </form>
        <div class="hdls-filter">
            <form [formGroup]="hotelGroup" (ngSubmit)="getHotelBookings()" class="hdls-hotel-filter">
              <mat-form-field class="hdls-form-field" appearance="fill">
                <mat-label>Place</mat-label>
                <mat-select
                  class="hdls-form-select"
                  formControlName="hotelid"
                >
                  <mat-option
                    *ngFor="let hotels of hotelDetails"
                    [key]="hotels.hotel_id"
                    [value]="hotels.hotel_id"
                    >{{ hotels.hotel_name }}</mat-option
                  >
                </mat-select>
              </mat-form-field>
              <mat-form-field class="hdls-hotel-filter-date">
                <mat-label>Choose From Date</mat-label>
                <div class="hdls-date-picker">
                <input matInput [matDatepicker]="picker" formControlName="from_date">
                <mat-datepicker-toggle matIconSuffix [for]="picker"></mat-datepicker-toggle>
                <mat-datepicker #picker></mat-datepicker>
            </div>
              </mat-form-field>
              <mat-form-field class="hdls-hotel-filter-date">
                <mat-label>Choose To Date</mat-label>
                <div class="hdls-date-picker">
                <input matInput [matDatepicker]="topicker" formControlName="to_date">
                <mat-datepicker-toggle matIconSuffix [for]="topicker"></mat-datepicker-toggle>
                <mat-datepicker #topicker></mat-datepicker>
            </div>
              </mat-form-field>
              <button type="button" (click)="getHotelBookings()" class="hdls-search-btn">Search</button>
            </form>
          </div>
      </div>
      <!-- <div class="download-section">
        <app-hdls-date-range
          (getDateRange)="getDateRange($event)"
        ></app-hdls-date-range>
        <div class="download-button">
          <a href="#"
            ><img src="../../../assets/images/download.png" alt="download"
          /></a>
        </div>
      </div> -->
    </div>
    <div id="hdls-membership-list">
      <div class="category-button">
        <a
        id="basic"
        class="add-button"
        [ngClass]="{ 'selected-item': selectedCategory === 'rejected' }"
        (click)="getSelectedFilter('rejected')"
      >
        All<span><!-- TODO--></span>
      </a>
        <a
          id="basic"
          class="add-button"
          [ngClass]="{ 'selected-item': selectedCategory === 'all' }"
          (click)="getSelectedFilter('all')"
        >
          Pending
        </a>
        <a
          id="basic"
          class="add-button"
          [ngClass]="{ 'selected-item': selectedCategory === 'live' }"
          (click)="getSelectedFilter('live')"
        >
        Settled<span><!-- TODO--></span>
        </a>
      </div>
      <div class="hdls-product-list-section">
        <!-- <app-search-field></app-search-field> -->
        <table
          mat-table
          class="hdls-product-table"
          [dataSource]="dataSource"
          matTableExporter
        >

        'transaction_id',
        'service_category',
        'place',
        'member_id',
        'member_name',
        'date',
        'time',
        'amount_paid',
        'member_point_charges',
        'points_issuance_charges',
        'member_spend_commission',
        'membership_package_commission',
        'status'
          <ng-container matColumnDef="transaction_id">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>
             Transaction Id
            </th>
            <td mat-cell *matCellDef="let element">
              <p *ngIf="!element.isLoading">
                {{ element.bookingid }}
              </p>
              <div *ngIf="element.isLoading" class="loading-data"></div>
            </td>
          </ng-container>
  
          <ng-container matColumnDef="service_category">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>Service Category</th>
            <td mat-cell *matCellDef="let element">
              <div *ngIf="!element.isLoading">
                {{ element?.hotelmaster?.hotelname }}
              </div>
              <div *ngIf="element.isLoading" class="loading-data"></div>
            </td>
          </ng-container>

          <ng-container matColumnDef="place">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>Place</th>
            <td mat-cell *matCellDef="let element">
              <div *ngIf="!element.isLoading">
                {{ element?.hotelmaster?.hotelname }}
              </div>
              <div *ngIf="element.isLoading" class="loading-data"></div>
            </td>
          </ng-container>

          <ng-container matColumnDef="member_id">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>Member Number</th>
            <td mat-cell *matCellDef="let element">
              <div *ngIf="!element.isLoading">
                {{ element?.hotelmaster?.hotelname }}
              </div>
              <div *ngIf="element.isLoading" class="loading-data"></div>
            </td>
          </ng-container>

          <ng-container matColumnDef="member_name">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>Member Name</th>
            <td mat-cell *matCellDef="let element">
              <div *ngIf="!element.isLoading">
                {{ element?.hotelmaster?.hotelname }}
              </div>
              <div *ngIf="element.isLoading" class="loading-data"></div>
            </td>
          </ng-container>
          <ng-container matColumnDef="date">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>Date</th>
            <td mat-cell *matCellDef="let element">
              <div *ngIf="!element.isLoading">
                {{ element?.hotelmaster?.hotelname }}
              </div>
              <div *ngIf="element.isLoading" class="loading-data"></div>
            </td>
          </ng-container>          
          <ng-container matColumnDef="time">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>Time</th>
            <td mat-cell *matCellDef="let element">
              <div *ngIf="!element.isLoading">
                {{ element?.hotelmaster?.hotelname }}
              </div>
              <div *ngIf="element.isLoading" class="loading-data"></div>
            </td>
          </ng-container>

          <ng-container matColumnDef="amount_paid">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>Total Amount(?)</th>
            <td mat-cell *matCellDef="let element">
              <div *ngIf="!element.isLoading">
                {{ element?.hotelmaster?.hotelname }}
              </div>
              <div *ngIf="element.isLoading" class="loading-data"></div>
            </td>
          </ng-container>
          <ng-container matColumnDef="member_point_charges">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>Member Point Charge(5-12.5%)</th>
            <td mat-cell *matCellDef="let element">
              <div *ngIf="!element.isLoading">
                {{ element?.hotelmaster?.hotelname }}
              </div>
              <div *ngIf="element.isLoading" class="loading-data"></div>
            </td>
          </ng-container>

          <ng-container matColumnDef="points_issuance_charges">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>Point Issuance Charge(4.5)</th>
            <td mat-cell *matCellDef="let element">
              <div *ngIf="!element.isLoading">
                {{ element?.hotelmaster?.hotelname }}
              </div>
              <div *ngIf="element.isLoading" class="loading-data"></div>
            </td>
          </ng-container>

          <ng-container matColumnDef="member_spend_commission">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>Member Spend Commission</th>
            <td mat-cell *matCellDef="let element">
              <div *ngIf="!element.isLoading">
                {{ element?.hotelmaster?.hotelname }}
              </div>
              <div *ngIf="element.isLoading" class="loading-data"></div>
            </td>
          </ng-container>

          <ng-container matColumnDef="membership_package_commission">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>Membership Package Commission(15%)</th>
            <td mat-cell *matCellDef="let element">
              <div *ngIf="!element.isLoading">
                {{ element?.hotelmaster?.hotelname }}
              </div>
              <div *ngIf="element.isLoading" class="loading-data"></div>
            </td>
          </ng-container>
          <ng-container matColumnDef="status">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>Status</th>
            <td mat-cell *matCellDef="let element">
              <div *ngIf="!element.isLoading">
                {{ element?.hotelmaster?.hotelname }}
              </div>
              <div *ngIf="element.isLoading" class="loading-data"></div>
            </td>
          </ng-container>
          <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
          <tr
            mat-row
            *matRowDef="let row; columns: displayedColumns"
            class="hdls-table-row"
          ></tr>
        </table>
        <table>
          <tr *ngIf="!dataSource.data.length">
            <td class="hdls-no-records-detail">No Records Found!</td>
          </tr>
        </table>
        <mat-paginator
          [pageSizeOptions]="[5, 10, 20]"
          showFirstLastButtons
          aria-label="Select page of periodic elements"
          (page)="changePage($event)"
        >
        </mat-paginator>
      </div>
    </div>
  </section>
  